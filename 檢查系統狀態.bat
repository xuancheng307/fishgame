@echo off
chcp 65001 >nul
title é­šå¸‚å ´éŠæˆ² - ç³»çµ±ç‹€æ…‹æª¢æŸ¥
color 0B

echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘           ðŸ“Š é­šå¸‚å ´éŠæˆ² - ç³»çµ±ç‹€æ…‹æª¢æŸ¥           â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

:: å–å¾—æœ¬æ©Ÿ IP
for /f "tokens=2 delims=:" %%a in ('ipconfig ^| findstr /c:"IPv4" ^| findstr /v "127.0.0.1"') do (
    for /f "tokens=1" %%b in ("%%a") do (
        set LOCAL_IP=%%b
    )
)
if "%LOCAL_IP%"=="" set LOCAL_IP=æœªå–å¾—

echo [ç‹€æ…‹] æª¢æŸ¥ä¼ºæœå™¨åŸ·è¡Œç‹€æ³...
echo.

:: æª¢æŸ¥ Node.js é€²ç¨‹
tasklist /fi "imagename eq node.exe" 2>nul | find /i "node.exe" >nul
if %errorlevel% == 0 (
    echo âœ… å¾Œç«¯ä¼ºæœå™¨: åŸ·è¡Œä¸­
    set SERVER_RUNNING=1
) else (
    echo âŒ å¾Œç«¯ä¼ºæœå™¨: æœªåŸ·è¡Œ
    set SERVER_RUNNING=0
)

:: æª¢æŸ¥åŸ ä½¿ç”¨æƒ…æ³
echo.
echo [ç‹€æ…‹] æª¢æŸ¥ç¶²è·¯åŸ ä½¿ç”¨æƒ…æ³...

netstat -an | findstr :3000 >nul
if %errorlevel% == 0 (
    echo âœ… åŸ  3000: å·²ç›£è½ï¼ˆå¾Œç«¯æœå‹™ï¼‰
) else (
    echo âŒ åŸ  3000: æœªä½¿ç”¨
)

netstat -an | findstr :3306 >nul  
if %errorlevel% == 0 (
    echo âœ… åŸ  3306: å·²ç›£è½ï¼ˆMySQL è³‡æ–™åº«ï¼‰
) else (
    echo âš ï¸  åŸ  3306: æœªç›£è½ï¼ˆå¯èƒ½æ˜¯ MySQL æœªå•Ÿå‹•ï¼‰
)

echo.
echo [ç‹€æ…‹] ç³»çµ±è³‡è¨Š...
echo ðŸŒ æœ¬æ©Ÿ IP ä½å€: %LOCAL_IP%
echo ðŸ’» ä½œæ¥­ç³»çµ±: %OS%
echo â° ç•¶å‰æ™‚é–“: %date% %time%

echo.
echo [ç‹€æ…‹] ç¶²è·¯å­˜å–æ¸¬è©¦...

if %SERVER_RUNNING% == 1 (
    echo âœ… ç³»çµ±æ­£åœ¨åŸ·è¡Œ
    echo.
    echo ðŸ”— å¯ç”¨çš„å­˜å–ç¶²å€ï¼š
    echo.
    echo ðŸ“± æœ¬æ©Ÿå­˜å–ï¼ˆåœ¨é€™å°é›»è…¦ä¸Šï¼‰:
    echo    ç™»å…¥é é¢: http://localhost:3000/login.html
    echo    ç®¡ç†ä»‹é¢: http://localhost:3000/admin.html  
    echo    å­¸ç”Ÿä»‹é¢: http://localhost:3000/simple-team.html
    echo.
    echo ðŸŒ ç¶²è·¯å­˜å–ï¼ˆå…¶ä»–è¨­å‚™ï¼‰:
    echo    ç™»å…¥é é¢: http://%LOCAL_IP%:3000/login.html
    echo    ç®¡ç†ä»‹é¢: http://%LOCAL_IP%:3000/admin.html
    echo    å­¸ç”Ÿä»‹é¢: http://%LOCAL_IP%:3000/simple-team.html
    echo.
    echo ðŸ‘¨â€ðŸ« ç®¡ç†å“¡ç™»å…¥: admin/123
    echo ðŸ‘¨â€ðŸŽ“ å­¸ç”Ÿç™»å…¥: 01/01, 02/02, ... 10/10
) else (
    echo âŒ ç³»çµ±æœªåœ¨åŸ·è¡Œ
    echo.
    echo ðŸš€ å•Ÿå‹•å»ºè­°:
    echo    1. åŸ·è¡Œã€Œå•Ÿå‹•é­šå¸‚å ´éŠæˆ².batã€
    echo    2. ç­‰å¾… 5-10 ç§’è®“ä¼ºæœå™¨å®Œå…¨å•Ÿå‹•
    echo    3. å†æ¬¡åŸ·è¡Œæ­¤æª¢æŸ¥ç¢ºèªç‹€æ…‹
)

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                   å¯ç”¨å·¥å…·                         â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo ðŸ› ï¸  ç³»çµ±ç®¡ç†å·¥å…·:
echo    â€¢ å•Ÿå‹•é­šå¸‚å ´éŠæˆ².bat    - å•Ÿå‹•å®Œæ•´ç³»çµ±
echo    â€¢ åœæ­¢é­šå¸‚å ´éŠæˆ².bat    - åœæ­¢æ‰€æœ‰æœå‹™
echo    â€¢ é‡è¨­æ‰€æœ‰å¯†ç¢¼.bat      - é‡è¨­ç‚ºé è¨­å¯†ç¢¼
echo    â€¢ å¿«é€Ÿæ¸¬è©¦.bat          - æª¢æŸ¥ç³»çµ±å®Œæ•´æ€§

echo.
echo æŒ‰ä»»æ„éµçµæŸæª¢æŸ¥...
pause >nul
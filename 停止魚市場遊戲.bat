@echo off
chcp 65001 >nul
title åœæ­¢é­šå¸‚å ´éŠæˆ²
color 0C

echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘           ðŸ›‘ åœæ­¢é­šå¸‚å ´éŠæˆ²ä¼ºæœå™¨                 â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo [åœæ­¢] æ­£åœ¨çµ‚æ­¢æ‰€æœ‰ç›¸é—œæœå‹™...
echo.

:: åªçµ‚æ­¢ä½”ç”¨ç‰¹å®šåŸ çš„é€²ç¨‹ï¼ˆæ›´ç²¾ç¢ºçš„æ–¹å¼ï¼‰
echo [è™•ç†] é‡‹æ”¾é­šå¸‚å ´éŠæˆ²åŸ ...

:: çµ‚æ­¢ä½”ç”¨ 3000 åŸ çš„é€²ç¨‹ï¼ˆé­šå¸‚å ´éŠæˆ²å¾Œç«¯ï¼‰
for /f "tokens=5" %%a in ('netstat -aon ^| findstr :3000 ^| findstr LISTENING') do (
    echo [è™•ç†] æ‰¾åˆ°ä½”ç”¨åŸ  3000 çš„é€²ç¨‹ PID: %%a
    taskkill /f /pid %%a >nul 2>nul
    if %errorlevel% == 0 (
        echo [å®Œæˆ] å·²åœæ­¢åŸ  3000 ä¸Šçš„é­šå¸‚å ´éŠæˆ²ä¼ºæœå™¨ âœ“
    )
)

:: çµ‚æ­¢ä½”ç”¨ 5173 åŸ çš„é€²ç¨‹ï¼ˆå¦‚æžœæœ‰å‰ç«¯é–‹ç™¼ä¼ºæœå™¨ï¼‰
for /f "tokens=5" %%a in ('netstat -aon ^| findstr :5173 ^| findstr LISTENING') do (
    echo [è™•ç†] æ‰¾åˆ°ä½”ç”¨åŸ  5173 çš„é€²ç¨‹ PID: %%a
    taskkill /f /pid %%a >nul 2>nul
    if %errorlevel% == 0 (
        echo [å®Œæˆ] å·²åœæ­¢åŸ  5173 ä¸Šçš„é–‹ç™¼ä¼ºæœå™¨ âœ“
    )
)

:: æª¢æŸ¥æ˜¯å¦é‚„æœ‰ä½”ç”¨é€™äº›åŸ çš„é€²ç¨‹
echo [æª¢æŸ¥] é©—è­‰åŸ ç‹€æ…‹...
netstat -an | findstr :3000 >nul
if %errorlevel% == 0 (
    echo [è­¦å‘Š] åŸ  3000 å¯èƒ½ä»è¢«å…¶ä»–é€²ç¨‹ä½”ç”¨
) else (
    echo [å®Œæˆ] åŸ  3000 å·²æˆåŠŸé‡‹æ”¾ âœ“
)

:: ä¸å†çµ‚æ­¢æ‰€æœ‰ Node.js å’Œ npm é€²ç¨‹ï¼Œä»¥é¿å…å½±éŸ¿å…¶ä»–æœå‹™ï¼ˆå¦‚ Claude Codeï¼‰

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                 âœ… åœæ­¢å®Œæˆ                       â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo ðŸ”’ æ‰€æœ‰é­šå¸‚å ´éŠæˆ²æœå‹™å·²åœæ­¢
echo    å¦‚éœ€é‡æ–°å•Ÿå‹•ï¼Œè«‹åŸ·è¡Œã€Œå•Ÿå‹•é­šå¸‚å ´éŠæˆ².batã€
echo.

timeout /t 3 /nobreak >nul